---
type Props = {
  section?: 'blog' | 'speaking' | 'about'
}

const { section } = Astro.props
---

<header class="sticky inset-x-0 top-0 z-50 bg-bg-500 text-text-500">
  <nav class="mx-auto max-w-screen-xl px-8">
    <div class="flex flex-wrap items-center justify-between mx-auto p-4">
      <a
        class="text-primary-500 hover:text-primary-700 font-bold hover:underline underline-offset-8 decoration-accent-500"
        href="/">Luciano Mammino</a
      >
      <button
        data-collapse-toggle="navbar-default"
        type="button"
        class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-text-500 rounded-lg md:hidden hover:bg-bg-600 focus:outline-none focus:ring-2 focus:ring-bg-800"
        aria-controls="navbar-default"
        aria-expanded="false"
      >
        <span class="sr-only">Open main menu</span>
        <svg
          class="w-5 h-5"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 17 14"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M1 1h15M1 7h15M1 13h15"></path>
        </svg>
      </button>

      <div class="hidden w-full md:block md:w-auto" id="navbar-default">
        <ul
          class="flex flex-col gap-4 p-4 md:p-0 mt-4 border border-bg-200 rounded-lg bg-bg-100 md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0 md:bg-transparent"
        >
          <li class="">
            <a href="/blog"
              ><div
                class={`block text-text-500 hover:text-accent-700 ${
                  section === 'blog'
                    ? 'underline underline-offset-8 decoration-4 decoration-accent-500 font-bold'
                    : 'font-medium'
                }`}
              >
                Blog
              </div></a
            >
          </li>
          <li class="">
            <a href="/speaking"
              ><div
                class={`block text-text-500 hover:text-accent-700 ${
                  section === 'speaking'
                    ? 'underline underline-offset-8 decoration-4 decoration-accent-500 font-bold'
                    : 'font-medium'
                }`}
              >
                Speaking
              </div></a
            >
          </li>
          <li class="">
            <a href="/about"
              ><div
                class={`block text-text-500 hover:text-accent-700 ${
                  section === 'about'
                    ? 'underline underline-offset-8 decoration-4 decoration-accent-500 font-bold'
                    : 'font-medium'
                }`}
              >
                About
              </div></a
            >
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>
<script>
  const hamburgerBtn = document.querySelector(
    '[data-collapse-toggle]',
  ) as HTMLButtonElement
  hamburgerBtn.addEventListener('click', () => {
    const target = document.getElementById(
      hamburgerBtn.getAttribute('aria-controls')!,
    ) as HTMLElement
    const expanded = hamburgerBtn.getAttribute('aria-expanded') === 'true'
    hamburgerBtn.setAttribute('aria-expanded', (!expanded).toString())
    target!.classList.toggle('hidden')
  })
</script>
