{%- extends 'html.njk' -%}
{%- from 'components/hero.njk' import hero -%}
{%- from 'components/dateViewer.njk' import dateViewer -%}
{%- from 'components/tagsList.njk' import tagsList -%}
{%- from 'components/images/icons.njk' import commentsSolid -%}

{% set section = "blog" %}

{%- set hero_content -%}
<h1>
  <span>{{ title }}</span></h1>
{%- if subtitle -%}
  <h2>
    <span>{{ subtitle }}</span></h2>
{%- endif -%}
{%- endset -%}

{%- block body_content -%}
  {%- include 'partials/header.njk' -%}
  {{ hero(hero_content, "textOverlay", header_img | filecopy | default('/public/default-bg.jpg') ) }}
  <div class="post__contentContainer">
    <section class="post__content">
      <div class="post__columns">

        <main class="post__columns_column--main">
          <div class="post__article_sectionContainer">
            {{ dateViewer(date, 'dateViewer__no-left-margin') }}
            {{ tagsList(tags) }}
            <a href="#comments" title="Read comments">
              {{ commentsSolid("margin: 0 .25em 0 1em") }}
              comments
            </a>
            <p>â€” Published by</p>
          </div>
          <article class="post__article_container">
            {{ content | safe }}
          </article>
          <div class="post__article_githubSectionContainer">
            TODO: fix link and Github icon - 
            <strong>Found a typo or something that can be improved?</strong>
            <br/>
            In the spirit of Open Source, you can contribute to this article by
            <a href={githubLink} target="_blank" rel="noopener noreferrer">
              submitting a PR on <GitHubIcon/> GitHub
            </a>
          </div>
          <div class="post__article_sectionContainer post__article_sectionContainer--comments">
            TODO: add comments icon and Disqus integration
            <h2 id="comments">Comments</h2>
          </div>
        </main>

        <aside class="post__sidebar">
          <p>TODO: sidebar ads</p>
          <p>TODO: headings</p>
          <p>TODO: social share</p>
          <p>TODO: similar posts</p>
        </aside>

      </div>

    </section>
  </div>

  <ul class="prevNextPosts__container">
    TODO: prev next post
  </ul>

  {%- include 'partials/footer.njk' -%}

{%- endblock body_content -%}